package com.tomtom.adeagg

import org.locationtech.jts.geom.GeometryFactory
import org.locationtech.jts.io.WKTReader
import org.scalatest.flatspec.AnyFlatSpec
import org.scalatest.matchers.should.Matchers
class TestGeometries extends AnyFlatSpec with Matchers{

  "route multiple mergeable linestrings" should "return a linestring" in {
    val innerArray = Array.empty[String]
    val outerArray = Array("LINESTRING (6.1322285 49.5963898, 6.1323246 49.5965217, 6.1324171 49.5966426, 6.1326914 49.5970062, 6.1328954 49.5973015, 6.1330453 49.5975453, 6.1334775 49.5983415)","LINESTRING (6.1319768 49.5960526, 6.1320986 49.596215, 6.1322285 49.5963898)","LINESTRING (6.123697 49.5953937, 6.1255725 49.5951694, 6.1259048 49.5951249, 6.1263118 49.595065, 6.1274155 49.5948913, 6.1277499 49.5948389, 6.1279607 49.5948136, 6.128106 49.5947982, 6.1282649 49.5947855, 6.1284033 49.5947779, 6.1285293 49.594773, 6.1286554 49.5947716, 6.1287902 49.5947725, 6.1289204 49.5947768, 6.1290127 49.5947814, 6.1291122 49.5947877, 6.1292247 49.5947979, 6.1293762 49.5948141, 6.1295144 49.5948325, 6.1296778 49.5948594, 6.1298328 49.5948882, 6.1299701 49.5949183, 6.1300954 49.5949488, 6.1302699 49.5949979, 6.1303618 49.5950267, 6.130492 49.5950718, 6.1306358 49.5951258, 6.1307795 49.5951867, 6.1309363 49.5952595, 6.131097 49.5953443, 6.131254 49.5954354, 6.1313471 49.595495, 6.1314203 49.5955461, 6.1315413 49.595636, 6.1316553 49.5957299, 6.1319123 49.5959849, 6.1319768 49.5960526)","LINESTRING (6.1177366 49.5961047, 6.1228999 49.5954885, 6.123697 49.5953937)","LINESTRING (6.1177366 49.5961047, 6.1173555 49.5961509)","LINESTRING (6.1173555 49.5961509, 6.1141222 49.5965302)","LINESTRING (6.1141222 49.5965302, 6.1080341 49.5972171, 6.1073685 49.5972746, 6.1068624 49.5972988, 6.104722 49.5973697, 6.1038818 49.5974155, 6.1033169 49.5974573, 6.1027799 49.597503, 6.1021619 49.5975621, 6.1013919 49.5976535, 6.1008804 49.5977244, 6.0998559 49.5978806, 6.0991349 49.5980073, 6.0982625 49.5981719, 6.0974412 49.5983582, 6.0970203 49.5984597, 6.0966393 49.5985542, 6.0961278 49.5986895)","LINESTRING (6.0961278 49.5986895, 6.0949889 49.5990128)","LINESTRING (6.0949889 49.5990128, 6.0940779 49.5993032, 6.0908773 49.6003829, 6.0857634 49.6020982, 6.0852301 49.6022981, 6.0847262 49.6025018, 6.0829989 49.6032476)","LINESTRING (6.0829989 49.6032476, 6.082066 49.6036543)","LINESTRING (6.082066 49.6036543, 6.0807862 49.6042073, 6.07151 49.6082141, 6.0705349 49.6086353, 6.0650886 49.6109876, 6.0631184 49.6118272, 6.0627581 49.6119749, 6.0613274 49.612529, 6.0608332 49.6127121, 6.060416 49.6128586, 6.0599625 49.6130107, 6.0595156 49.6131379, 6.0591687 49.6132369, 6.0588186 49.6133275, 6.058047 49.6135139, 6.0573442 49.6136629, 6.0565753 49.6138059, 6.0561825 49.6138725, 6.0557766 49.613934, 6.0549022 49.61405, 6.0543452 49.6141094, 6.0536384 49.6141727, 6.0530558 49.6142118, 6.0526045 49.6142344, 6.0521089 49.614252, 6.051465 49.6142637, 6.0506739 49.6142603, 6.0502412 49.6142507, 6.0499054 49.6142373, 6.049046 49.6141906, 6.0483149 49.6141311, 6.0478567 49.6140856, 6.0440217 49.6136159, 6.043326 49.6135399, 6.0426614 49.6134843, 6.0419707 49.6134524, 6.0413355 49.6134466, 6.0407514 49.6134579, 6.0401715 49.6134923, 6.0394673 49.6135582, 6.0388178 49.6136356, 6.0381549 49.6137477, 6.0375024 49.6138872, 6.0368529 49.6140488, 6.0362317 49.6142368, 6.0356251 49.6144448, 6.0350459 49.6146712, 6.0344806 49.6149259, 6.0339454 49.6151962, 6.0334379 49.6154851, 6.0329434 49.6157967, 6.0324819 49.6161239, 6.0316851 49.6167624, 6.0297166 49.6184018, 6.0292515 49.6187903, 6.0288194 49.6191404, 6.0285905 49.619331, 6.0280885 49.6197015, 6.0259793 49.6211442, 6.0243981 49.6222258, 6.0229276 49.6232315, 6.0226419 49.6234494, 6.0220829 49.6239144, 6.0201862 49.6256196, 6.0188829 49.6267674, 6.0183927 49.6271884, 6.0180809 49.6274307, 6.0176605 49.6277241, 6.0172033 49.6280129, 6.0166843 49.6282965, 6.0160534 49.6285983, 6.0135362 49.6296655, 6.0103667 49.6310092, 5.9992583 49.6357182, 5.9987778 49.6359087, 5.9983516 49.6360714, 5.9978835 49.6362403, 5.9970278 49.6365302, 5.9964914 49.6367046, 5.9960057 49.6368518, 5.9953953 49.637024, 5.9945804 49.6372387, 5.9938519 49.6374165, 5.9931275 49.6375788, 5.9927908 49.6376465, 5.9920365 49.6377919, 5.991361 49.6379098, 5.9906574 49.6380197, 5.9897904 49.6381336, 5.989318 49.6381886, 5.9887009 49.6382541, 5.9880711 49.6383111, 5.987208 49.6383731, 5.9863357 49.6384187, 5.9854629 49.6384447, 5.9845864 49.6384532, 5.9835814 49.6384382, 5.9830222 49.6384215, 5.9825704 49.6384047, 5.9823856 49.6383985, 5.9523939 49.6371014, 5.9505167 49.6370187, 5.9498433 49.6370097, 5.9493459 49.6370151, 5.9487055 49.6370462, 5.9482725 49.6370831, 5.9478343 49.6371333, 5.9471837 49.6372293, 5.9468329 49.6372902, 5.9464891 49.6373587, 5.9461849 49.6374246, 5.9458028 49.6375213, 5.9452484 49.6376778, 5.9352307 49.640945)","LINESTRING (5.9352307 49.640945, 5.9350231 49.6410147)","LINESTRING (5.9350231 49.6410147, 5.9308023 49.64239, 5.9302042 49.6425848, 5.9279447 49.6433211, 5.9274568 49.6434676, 5.9268165 49.6436424, 5.9262879 49.6437619, 5.9255385 49.643902, 5.925012 49.6439764, 5.9244218 49.6440412, 5.923824 49.6440853, 5.9233345 49.6441022, 5.9229155 49.6441062, 5.9226364 49.6441046, 5.9221162 49.6440914, 5.9217262 49.6440752, 5.9162566 49.6438187, 5.9154774 49.6437971, 5.9146444 49.6437859, 5.911331 49.6437689, 5.9092243 49.6437792, 5.904203 49.6438242)","LINESTRING (5.904203 49.6438242, 5.9027816 49.6438546, 5.9020933 49.6438666, 5.9014081 49.6438736, 5.8977149 49.6438983, 5.8969447 49.6439008, 5.8961727 49.6439004, 5.8939706 49.6438884, 5.8924137 49.6438799, 5.8916376 49.6438793, 5.8908572 49.6438811, 5.8890482 49.6438907, 5.8832331 49.6439223, 5.8816916 49.6439309, 5.8800643 49.6439434, 5.8778966 49.6439515, 5.8740407 49.6439718, 5.8736176 49.6439744)")
    val tag_type = "route"
    val str = Main.createRelationGeoms(innerArray, outerArray, tag_type)
    str should be ("LINESTRING (6.1334775 49.5983415, 6.1330453 49.5975453, 6.1328954 49.5973015, 6.1326914 49.5970062, 6.1324171 49.5966426, 6.1323246 49.5965217, 6.1322285 49.5963898, 6.1320986 49.596215, 6.1319768 49.5960526, 6.1319123 49.5959849, 6.1316553 49.5957299, 6.1315413 49.595636, 6.1314203 49.5955461, 6.1313471 49.595495, 6.131254 49.5954354, 6.131097 49.5953443, 6.1309363 49.5952595, 6.1307795 49.5951867, 6.1306358 49.5951258, 6.130492 49.5950718, 6.1303618 49.5950267, 6.1302699 49.5949979, 6.1300954 49.5949488, 6.1299701 49.5949183, 6.1298328 49.5948882, 6.1296778 49.5948594, 6.1295144 49.5948325, 6.1293762 49.5948141, 6.1292247 49.5947979, 6.1291122 49.5947877, 6.1290127 49.5947814, 6.1289204 49.5947768, 6.1287902 49.5947725, 6.1286554 49.5947716, 6.1285293 49.594773, 6.1284033 49.5947779, 6.1282649 49.5947855, 6.128106 49.5947982, 6.1279607 49.5948136, 6.1277499 49.5948389, 6.1274155 49.5948913, 6.1263118 49.595065, 6.1259048 49.5951249, 6.1255725 49.5951694, 6.123697 49.5953937, 6.1228999 49.5954885, 6.1177366 49.5961047, 6.1173555 49.5961509, 6.1141222 49.5965302, 6.1080341 49.5972171, 6.1073685 49.5972746, 6.1068624 49.5972988, 6.104722 49.5973697, 6.1038818 49.5974155, 6.1033169 49.5974573, 6.1027799 49.597503, 6.1021619 49.5975621, 6.1013919 49.5976535, 6.1008804 49.5977244, 6.0998559 49.5978806, 6.0991349 49.5980073, 6.0982625 49.5981719, 6.0974412 49.5983582, 6.0970203 49.5984597, 6.0966393 49.5985542, 6.0961278 49.5986895, 6.0949889 49.5990128, 6.0940779 49.5993032, 6.0908773 49.6003829, 6.0857634 49.6020982, 6.0852301 49.6022981, 6.0847262 49.6025018, 6.0829989 49.6032476, 6.082066 49.6036543, 6.0807862 49.6042073, 6.07151 49.6082141, 6.0705349 49.6086353, 6.0650886 49.6109876, 6.0631184 49.6118272, 6.0627581 49.6119749, 6.0613274 49.612529, 6.0608332 49.6127121, 6.060416 49.6128586, 6.0599625 49.6130107, 6.0595156 49.6131379, 6.0591687 49.6132369, 6.0588186 49.6133275, 6.058047 49.6135139, 6.0573442 49.6136629, 6.0565753 49.6138059, 6.0561825 49.6138725, 6.0557766 49.613934, 6.0549022 49.61405, 6.0543452 49.6141094, 6.0536384 49.6141727, 6.0530558 49.6142118, 6.0526045 49.6142344, 6.0521089 49.614252, 6.051465 49.6142637, 6.0506739 49.6142603, 6.0502412 49.6142507, 6.0499054 49.6142373, 6.049046 49.6141906, 6.0483149 49.6141311, 6.0478567 49.6140856, 6.0440217 49.6136159, 6.043326 49.6135399, 6.0426614 49.6134843, 6.0419707 49.6134524, 6.0413355 49.6134466, 6.0407514 49.6134579, 6.0401715 49.6134923, 6.0394673 49.6135582, 6.0388178 49.6136356, 6.0381549 49.6137477, 6.0375024 49.6138872, 6.0368529 49.6140488, 6.0362317 49.6142368, 6.0356251 49.6144448, 6.0350459 49.6146712, 6.0344806 49.6149259, 6.0339454 49.6151962, 6.0334379 49.6154851, 6.0329434 49.6157967, 6.0324819 49.6161239, 6.0316851 49.6167624, 6.0297166 49.6184018, 6.0292515 49.6187903, 6.0288194 49.6191404, 6.0285905 49.619331, 6.0280885 49.6197015, 6.0259793 49.6211442, 6.0243981 49.6222258, 6.0229276 49.6232315, 6.0226419 49.6234494, 6.0220829 49.6239144, 6.0201862 49.6256196, 6.0188829 49.6267674, 6.0183927 49.6271884, 6.0180809 49.6274307, 6.0176605 49.6277241, 6.0172033 49.6280129, 6.0166843 49.6282965, 6.0160534 49.6285983, 6.0135362 49.6296655, 6.0103667 49.6310092, 5.9992583 49.6357182, 5.9987778 49.6359087, 5.9983516 49.6360714, 5.9978835 49.6362403, 5.9970278 49.6365302, 5.9964914 49.6367046, 5.9960057 49.6368518, 5.9953953 49.637024, 5.9945804 49.6372387, 5.9938519 49.6374165, 5.9931275 49.6375788, 5.9927908 49.6376465, 5.9920365 49.6377919, 5.991361 49.6379098, 5.9906574 49.6380197, 5.9897904 49.6381336, 5.989318 49.6381886, 5.9887009 49.6382541, 5.9880711 49.6383111, 5.987208 49.6383731, 5.9863357 49.6384187, 5.9854629 49.6384447, 5.9845864 49.6384532, 5.9835814 49.6384382, 5.9830222 49.6384215, 5.9825704 49.6384047, 5.9823856 49.6383985, 5.9523939 49.6371014, 5.9505167 49.6370187, 5.9498433 49.6370097, 5.9493459 49.6370151, 5.9487055 49.6370462, 5.9482725 49.6370831, 5.9478343 49.6371333, 5.9471837 49.6372293, 5.9468329 49.6372902, 5.9464891 49.6373587, 5.9461849 49.6374246, 5.9458028 49.6375213, 5.9452484 49.6376778, 5.9352307 49.640945, 5.9350231 49.6410147, 5.9308023 49.64239, 5.9302042 49.6425848, 5.9279447 49.6433211, 5.9274568 49.6434676, 5.9268165 49.6436424, 5.9262879 49.6437619, 5.9255385 49.643902, 5.925012 49.6439764, 5.9244218 49.6440412, 5.923824 49.6440853, 5.9233345 49.6441022, 5.9229155 49.6441062, 5.9226364 49.6441046, 5.9221162 49.6440914, 5.9217262 49.6440752, 5.9162566 49.6438187, 5.9154774 49.6437971, 5.9146444 49.6437859, 5.911331 49.6437689, 5.9092243 49.6437792, 5.904203 49.6438242, 5.9027816 49.6438546, 5.9020933 49.6438666, 5.9014081 49.6438736, 5.8977149 49.6438983, 5.8969447 49.6439008, 5.8961727 49.6439004, 5.8939706 49.6438884, 5.8924137 49.6438799, 5.8916376 49.6438793, 5.8908572 49.6438811, 5.8890482 49.6438907, 5.8832331 49.6439223, 5.8816916 49.6439309, 5.8800643 49.6439434, 5.8778966 49.6439515, 5.8740407 49.6439718, 5.8736176 49.6439744)")
  }

  "route" should "return a linestring" in {
    val innerArray = Array.empty[String]
    val outerArray = Array("LINESTRING (5.8499161 49.5863082, 5.8500338 49.5864374, 5.850091 49.5865452, 5.8501178 49.5866551, 5.8501098 49.5868492, 5.8500689 49.5870507, 5.8500561 49.5872211, 5.8500709 49.5877132, 5.850101 49.5878384, 5.8502459 49.5880532, 5.8502801 49.5881475, 5.850264 49.5882597, 5.8502144 49.5883653, 5.8501017 49.5885383, 5.8497316 49.5889352, 5.8496752 49.5890017, 5.8496296 49.5890739, 5.8492796 49.5898732, 5.8492179 49.5899797, 5.8491475 49.5900823, 5.8488727 49.5904507, 5.848829 49.5905935, 5.8488142 49.5913151, 5.8487499 49.5919775, 5.8486689 49.592472, 5.8486175 49.5927972, 5.8485521 49.5930709, 5.8484676 49.5933415, 5.8484401 49.5934523, 5.8484043 49.5936602)")
    val tag_type = "route"
    val str = Main.createRelationGeoms(innerArray, outerArray, tag_type)
    str should be ("LINESTRING (5.8499161 49.5863082, 5.8500338 49.5864374, 5.850091 49.5865452, 5.8501178 49.5866551, 5.8501098 49.5868492, 5.8500689 49.5870507, 5.8500561 49.5872211, 5.8500709 49.5877132, 5.850101 49.5878384, 5.8502459 49.5880532, 5.8502801 49.5881475, 5.850264 49.5882597, 5.8502144 49.5883653, 5.8501017 49.5885383, 5.8497316 49.5889352, 5.8496752 49.5890017, 5.8496296 49.5890739, 5.8492796 49.5898732, 5.8492179 49.5899797, 5.8491475 49.5900823, 5.8488727 49.5904507, 5.848829 49.5905935, 5.8488142 49.5913151, 5.8487499 49.5919775, 5.8486689 49.592472, 5.8486175 49.5927972, 5.8485521 49.5930709, 5.8484676 49.5933415, 5.8484401 49.5934523, 5.8484043 49.5936602)")
  }

  "route" should "return a multilinestring" in {
    val innerArray = Array.empty[String]
    val outerArray = Array("LINESTRING (6.318518 49.8507601, 6.3184658 49.8510266, 6.3184428 49.8512106, 6.3184255 49.8514608, 6.3184301 49.8516065, 6.318471 49.851876, 6.3185447 49.8521597, 6.3186522 49.8524464)","LINESTRING (6.3186522 49.8524464, 6.3187788 49.8526921, 6.3188641 49.852783)","LINESTRING (6.3168712 49.8533075, 6.3173933 49.8531895, 6.3179236 49.8530585, 6.318316 49.8529616, 6.3188641 49.852783)","LINESTRING (6.3168712 49.8533075, 6.3166693 49.8534688, 6.3163946 49.853748, 6.316224 49.8538856, 6.3157413 49.854189, 6.3155809 49.8543443, 6.3152584 49.8546039, 6.3150144 49.8547474, 6.3147488 49.8548529, 6.314486 49.85491, 6.3143214 49.8549605, 6.3142191 49.8550336, 6.3141601 49.8551261, 6.314148 49.8552359, 6.3141788 49.8553812, 6.3141587 49.8555247, 6.3141051 49.855612, 6.3139891 49.8557028, 6.3139021 49.8557645, 6.3136407 49.8559602, 6.3135084 49.8560549, 6.3130303 49.8564077, 6.3125949 49.8567941, 6.3124857 49.8568953)","LINESTRING (6.3124857 49.8568953, 6.312131 49.85726, 6.3118923 49.8573966, 6.3117984 49.8574779, 6.3115355 49.8578549, 6.3114202 49.8580649, 6.3113826 49.8581834, 6.3113706 49.8583243, 6.3113102 49.858422, 6.3111855 49.8584955, 6.3110018 49.8585534, 6.3108516 49.8585958, 6.3107902 49.8586316)","LINESTRING (6.3107902 49.8586316, 6.3107228 49.858671, 6.3104028 49.8589566, 6.3098808 49.8594225, 6.3097653 49.8596056, 6.3097049 49.8597465, 6.3097063 49.8598114, 6.3097398 49.859897, 6.3098337 49.86005, 6.3098605 49.8601304, 6.3098578 49.8602255, 6.3097498 49.8603995, 6.3097411 49.8604339)","LINESTRING (6.3097411 49.8604339, 6.3097545 49.8606231)","LINESTRING (6.3097545 49.8606231, 6.3097881 49.8608073, 6.309772 49.8609483, 6.3097116 49.8610537, 6.3096728 49.8611077, 6.3096245 49.8611471, 6.3092718 49.8613805, 6.3090706 49.8614635, 6.3090573 49.8614715, 6.3089834 49.8615163, 6.3088372 49.8617454, 6.3087957 49.8621344, 6.3087916 49.8624102, 6.3087447 49.8625295, 6.3086723 49.8626443, 6.3086307 49.8627102, 6.3083705 49.8630041, 6.3082445 49.8630698, 6.3080737 49.8631289, 6.3080594 49.8631338, 6.3080109 49.8631639, 6.3079146 49.8632237, 6.3077697 49.8634467, 6.3077572 49.8634969, 6.3076758 49.8638242, 6.3075698 49.8640475, 6.3074773 49.8642109, 6.3072726 49.864457, 6.3071853 49.8646384)","LINESTRING (6.3071853 49.8646384, 6.3071136 49.8648386, 6.3070777 49.8649137, 6.3070033 49.8649746, 6.3068832 49.8650477, 6.3067397 49.86511, 6.3065118 49.8651791, 6.3062596 49.8652344, 6.3059887 49.8652837, 6.3057272 49.8653148, 6.3054751 49.8653295, 6.3052256 49.8653321, 6.3050124 49.8653174, 6.3046451 49.8652679, 6.3038875 49.8651328, 6.3029587 49.8649252, 6.3027406 49.8648599, 6.3026592 49.8648301, 6.302353 49.8646769, 6.302066 49.8645662, 6.3018783 49.8645169, 6.3010293 49.8643432, 6.3007142 49.8642628, 6.3005028 49.864225, 6.3003705 49.8642148, 6.3002536 49.864214, 6.3001641 49.8642246)","LINESTRING (6.313218 49.8635325, 6.313178 49.8635571, 6.313152 49.8635732, 6.3130718 49.8636227, 6.31304 49.8636855, 6.3130262 49.8637267, 6.312763 49.8645235, 6.3127261 49.8645989, 6.3126847 49.8646656, 6.3126099 49.8647544, 6.3124529 49.8649064, 6.3123362 49.8650663, 6.3123214 49.8651251, 6.3123126 49.8651837)","LINESTRING (6.3123126 49.8651837, 6.3123375 49.8656338, 6.3123241 49.8657747, 6.3122774 49.8659438, 6.3120813 49.8664844, 6.3120197 49.8666219, 6.311962 49.8667161, 6.3119123 49.8667726, 6.3116527 49.8670662, 6.3114744 49.8672541, 6.3112921 49.8674038, 6.3110225 49.8675742, 6.310726 49.8677513, 6.3104708 49.867882, 6.3101422 49.8680139, 6.3099197 49.8680729, 6.3096105 49.8681219, 6.3093608 49.8681339, 6.3089952 49.8681111, 6.3086511 49.8680594, 6.3083086 49.8679735, 6.3079868 49.8678627, 6.3077279 49.8677494, 6.307194 49.8674803, 6.3069833 49.8673905, 6.3067514 49.8673084, 6.3059769 49.8671114, 6.30567 49.8670115, 6.3053609 49.8668919, 6.3051386 49.8667889, 6.3050356 49.8667188, 6.3047859 49.8665124, 6.304606 49.8664051, 6.3043725 49.8663073, 6.3041733 49.8662464, 6.3035584 49.8661033, 6.3033543 49.8660247, 6.3031924 49.8659239, 6.303104 49.8658689, 6.3029391 49.8657894, 6.3028337 49.8657527, 6.3024808 49.8656483, 6.3023577 49.8656036, 6.3022198 49.8655328, 6.3021082 49.8654488, 6.3020443 49.8653798, 6.3020036 49.865318, 6.3019123 49.865153, 6.301867 49.8650865, 6.3018038 49.8650192, 6.3017347 49.8649526, 6.3016248 49.8648684, 6.3015296 49.8648152, 6.3013498 49.8647495, 6.30119 49.8647126, 6.3009999 49.8646954, 6.3007865 49.86467, 6.3006642 49.8646343, 6.3005633 49.8645947, 6.3004442 49.8645204, 6.3003433 49.8644352, 6.3002641 49.8643418, 6.3001641 49.8642246, 6.3000796 49.8641689, 6.2999538 49.8641214, 6.2997381 49.8640536, 6.2995363 49.8640021, 6.2993274 49.8639521, 6.2992264 49.8639368, 6.29907 49.8639204, 6.298882 49.8639141, 6.2984785 49.8639213, 6.2980355 49.8639342, 6.2978536 49.8639403, 6.297403 49.8639395, 6.2969229 49.8639131, 6.296615 49.8638583, 6.29639 49.8638067, 6.2959358 49.8636914, 6.295787 49.863675, 6.2956864 49.8636896, 6.2954919 49.8637389, 6.2949313 49.8639156, 6.294823 49.8639486, 6.2947006 49.8639859, 6.2944807 49.8640424, 6.2943626 49.8640662, 6.2942058 49.8640911, 6.2940624 49.8640986, 6.2939983 49.8641019, 6.2937609 49.8641011, 6.2930202 49.8641491, 6.2926375 49.8641686, 6.2924842 49.8641791, 6.2919205 49.8642775, 6.29171 49.8642861, 6.2915246 49.8642842, 6.2913593 49.8642631, 6.2909792 49.8641946, 6.2907813 49.8641491, 6.2906099 49.8641097, 6.2904384 49.8640613, 6.2902106 49.863979, 6.2900374 49.8638902, 6.2898797 49.8637991, 6.2897863 49.8637308, 6.2896856 49.8636411, 6.2895805 49.8635284, 6.2894771 49.8634062, 6.2893794 49.8632418, 6.2885343 49.8617817, 6.288195 49.8612413, 6.2881473 49.8611467, 6.2880863 49.8609768)","LINESTRING (6.2880863 49.8609768, 6.2882059 49.8610596, 6.2884589 49.8612348, 6.28961 49.8619887, 6.2898371 49.8621556, 6.2899397 49.8622494)","LINESTRING (6.2899397 49.8622494, 6.2900076 49.8623654, 6.2900671 49.8625156, 6.29009 49.8625574, 6.2901328 49.8625897, 6.2901749 49.8625974)","LINESTRING (6.2901749 49.8625974, 6.2901998 49.8626619, 6.2902882 49.8628192, 6.2904796 49.8630123, 6.2907612 49.8631752, 6.291035 49.8632607, 6.2914046 49.8633198, 6.2917072 49.8633202, 6.2919541 49.8632833, 6.2921601 49.8632149, 6.2922816 49.8631746, 6.2930977 49.862815, 6.2933817 49.8627284, 6.2943243 49.8625378, 6.2946564 49.862494, 6.2958414 49.862429, 6.2963735 49.8623522, 6.2969584 49.8622677, 6.2977076 49.8622335, 6.2983173 49.8622029, 6.2986162 49.8622192, 6.2993503 49.8623209, 6.2997276 49.862403, 6.3001272 49.8625213, 6.3006376 49.8627419, 6.3011232 49.8628761, 6.3022605 49.8631182, 6.302534 49.8631943, 6.3038537 49.8636282, 6.3042574 49.8637441, 6.3046275 49.8638893, 6.3048052 49.8639217, 6.3049118 49.8639187, 6.3050205 49.8638668, 6.3052377 49.8635963, 6.3053356 49.8634147, 6.3053732 49.8632712, 6.3053799 49.8631173, 6.3053289 49.8629686, 6.3052484 49.862832, 6.3051787 49.8627421, 6.3051747 49.8626514, 6.3052565 49.8625226, 6.3054121 49.8623263, 6.305467 49.8622139, 6.305699 49.8615655, 6.3058117 49.8611333, 6.3058305 49.8609967, 6.3057822 49.8608791, 6.3056937 49.8604295, 6.305699 49.8602497, 6.3058358 49.8599419, 6.3059834 49.8598114, 6.3062677 49.8594336, 6.306362 49.8592795, 6.3064849 49.8590618)","LINESTRING (6.3064849 49.8590618, 6.3065292 49.8588595, 6.3065198 49.8586062, 6.3065279 49.8585214, 6.3065842 49.8584333, 6.3068162 49.8581739, 6.306894 49.8580451, 6.3069718 49.8578661, 6.3070361 49.8577891, 6.3072024 49.8576793, 6.3073365 49.8575479, 6.3074237 49.857426, 6.3074505 49.8572929, 6.3075216 49.8571779, 6.3075404 49.8570793, 6.3075511 49.8568865, 6.3075793 49.8567162, 6.3076504 49.8565787, 6.3080017 49.8562095, 6.3081412 49.8561282, 6.3084483 49.8559761, 6.3086106 49.8558472, 6.3087755 49.8556025)","LINESTRING (6.3087755 49.8556025, 6.3089526 49.8554417, 6.3090558 49.855331, 6.3091631 49.8551201, 6.3092349 49.8550176, 6.3094682 49.8547963, 6.3095556 49.8546421, 6.3095695 49.8546177, 6.3096258 49.8545494, 6.3097599 49.8543168, 6.3101193 49.8538309, 6.310173 49.8537271, 6.3106618 49.853153, 6.3108355 49.8528071)","LINESTRING (6.3108355 49.8528071, 6.3109522 49.8527353, 6.311329 49.8526065, 6.31157 49.8524903, 6.3117233 49.8524163, 6.3119977 49.8523475, 6.3120304 49.8523393, 6.3122477 49.8522675, 6.312505 49.8521112)","LINESTRING (6.312505 49.8521112, 6.3126259 49.8520289, 6.312725 49.851924, 6.3128056 49.8518386, 6.3129685 49.851712, 6.313055 49.8516847, 6.3132615 49.8516752, 6.3135137 49.8516475)","LINESTRING (6.313743 49.8515429, 6.3139294 49.8514755, 6.3142707 49.8513147, 6.3145884 49.851165)","LINESTRING (6.3145884 49.851165, 6.3146077 49.8512187, 6.3145772 49.8512688, 6.3145973 49.8513492, 6.3146507 49.8513768)","LINESTRING (6.3146507 49.8513768, 6.3146073 49.8514296, 6.3146087 49.8514971, 6.3146547 49.8515618, 6.3148065 49.8516394, 6.3150103 49.8517228, 6.3154542 49.8518853, 6.315752 49.8519779, 6.3159035 49.8520254, 6.3160131 49.8520863, 6.3160324 49.8521497, 6.3160662 49.8522607, 6.3161281 49.8524785, 6.3162896 49.8529882, 6.3163279 49.8531043, 6.31637 49.8532272, 6.3163955 49.8532848, 6.3164334 49.853329, 6.3164764 49.8533496, 6.3165311 49.8533607, 6.3166197 49.8533572, 6.3168712 49.8533075)")
    val tag_type = "route"
    val str = Main.createRelationGeoms(innerArray, outerArray, tag_type)
    str should be ("MULTILINESTRING ((6.3168712 49.8533075, 6.3166693 49.8534688, 6.3163946 49.853748, 6.316224 49.8538856, 6.3157413 49.854189, 6.3155809 49.8543443, 6.3152584 49.8546039, 6.3150144 49.8547474, 6.3147488 49.8548529, 6.314486 49.85491, 6.3143214 49.8549605, 6.3142191 49.8550336, 6.3141601 49.8551261, 6.314148 49.8552359, 6.3141788 49.8553812, 6.3141587 49.8555247, 6.3141051 49.855612, 6.3139891 49.8557028, 6.3139021 49.8557645, 6.3136407 49.8559602, 6.3135084 49.8560549, 6.3130303 49.8564077, 6.3125949 49.8567941, 6.3124857 49.8568953, 6.312131 49.85726, 6.3118923 49.8573966, 6.3117984 49.8574779, 6.3115355 49.8578549, 6.3114202 49.8580649, 6.3113826 49.8581834, 6.3113706 49.8583243, 6.3113102 49.858422, 6.3111855 49.8584955, 6.3110018 49.8585534, 6.3108516 49.8585958, 6.3107902 49.8586316, 6.3107228 49.858671, 6.3104028 49.8589566, 6.3098808 49.8594225, 6.3097653 49.8596056, 6.3097049 49.8597465, 6.3097063 49.8598114, 6.3097398 49.859897, 6.3098337 49.86005, 6.3098605 49.8601304, 6.3098578 49.8602255, 6.3097498 49.8603995, 6.3097411 49.8604339, 6.3097545 49.8606231, 6.3097881 49.8608073, 6.309772 49.8609483, 6.3097116 49.8610537, 6.3096728 49.8611077, 6.3096245 49.8611471, 6.3092718 49.8613805, 6.3090706 49.8614635, 6.3090573 49.8614715, 6.3089834 49.8615163, 6.3088372 49.8617454, 6.3087957 49.8621344, 6.3087916 49.8624102, 6.3087447 49.8625295, 6.3086723 49.8626443, 6.3086307 49.8627102, 6.3083705 49.8630041, 6.3082445 49.8630698, 6.3080737 49.8631289, 6.3080594 49.8631338, 6.3080109 49.8631639, 6.3079146 49.8632237, 6.3077697 49.8634467, 6.3077572 49.8634969, 6.3076758 49.8638242, 6.3075698 49.8640475, 6.3074773 49.8642109, 6.3072726 49.864457, 6.3071853 49.8646384, 6.3071136 49.8648386, 6.3070777 49.8649137, 6.3070033 49.8649746, 6.3068832 49.8650477, 6.3067397 49.86511, 6.3065118 49.8651791, 6.3062596 49.8652344, 6.3059887 49.8652837, 6.3057272 49.8653148, 6.3054751 49.8653295, 6.3052256 49.8653321, 6.3050124 49.8653174, 6.3046451 49.8652679, 6.3038875 49.8651328, 6.3029587 49.8649252, 6.3027406 49.8648599, 6.3026592 49.8648301, 6.302353 49.8646769, 6.302066 49.8645662, 6.3018783 49.8645169, 6.3010293 49.8643432, 6.3007142 49.8642628, 6.3005028 49.864225, 6.3003705 49.8642148, 6.3002536 49.864214, 6.3001641 49.8642246), (6.313218 49.8635325, 6.313178 49.8635571, 6.313152 49.8635732, 6.3130718 49.8636227, 6.31304 49.8636855, 6.3130262 49.8637267, 6.312763 49.8645235, 6.3127261 49.8645989, 6.3126847 49.8646656, 6.3126099 49.8647544, 6.3124529 49.8649064, 6.3123362 49.8650663, 6.3123214 49.8651251, 6.3123126 49.8651837, 6.3123375 49.8656338, 6.3123241 49.8657747, 6.3122774 49.8659438, 6.3120813 49.8664844, 6.3120197 49.8666219, 6.311962 49.8667161, 6.3119123 49.8667726, 6.3116527 49.8670662, 6.3114744 49.8672541, 6.3112921 49.8674038, 6.3110225 49.8675742, 6.310726 49.8677513, 6.3104708 49.867882, 6.3101422 49.8680139, 6.3099197 49.8680729, 6.3096105 49.8681219, 6.3093608 49.8681339, 6.3089952 49.8681111, 6.3086511 49.8680594, 6.3083086 49.8679735, 6.3079868 49.8678627, 6.3077279 49.8677494, 6.307194 49.8674803, 6.3069833 49.8673905, 6.3067514 49.8673084, 6.3059769 49.8671114, 6.30567 49.8670115, 6.3053609 49.8668919, 6.3051386 49.8667889, 6.3050356 49.8667188, 6.3047859 49.8665124, 6.304606 49.8664051, 6.3043725 49.8663073, 6.3041733 49.8662464, 6.3035584 49.8661033, 6.3033543 49.8660247, 6.3031924 49.8659239, 6.303104 49.8658689, 6.3029391 49.8657894, 6.3028337 49.8657527, 6.3024808 49.8656483, 6.3023577 49.8656036, 6.3022198 49.8655328, 6.3021082 49.8654488, 6.3020443 49.8653798, 6.3020036 49.865318, 6.3019123 49.865153, 6.301867 49.8650865, 6.3018038 49.8650192, 6.3017347 49.8649526, 6.3016248 49.8648684, 6.3015296 49.8648152, 6.3013498 49.8647495, 6.30119 49.8647126, 6.3009999 49.8646954, 6.3007865 49.86467, 6.3006642 49.8646343, 6.3005633 49.8645947, 6.3004442 49.8645204, 6.3003433 49.8644352, 6.3002641 49.8643418, 6.3001641 49.8642246, 6.3000796 49.8641689, 6.2999538 49.8641214, 6.2997381 49.8640536, 6.2995363 49.8640021, 6.2993274 49.8639521, 6.2992264 49.8639368, 6.29907 49.8639204, 6.298882 49.8639141, 6.2984785 49.8639213, 6.2980355 49.8639342, 6.2978536 49.8639403, 6.297403 49.8639395, 6.2969229 49.8639131, 6.296615 49.8638583, 6.29639 49.8638067, 6.2959358 49.8636914, 6.295787 49.863675, 6.2956864 49.8636896, 6.2954919 49.8637389, 6.2949313 49.8639156, 6.294823 49.8639486, 6.2947006 49.8639859, 6.2944807 49.8640424, 6.2943626 49.8640662, 6.2942058 49.8640911, 6.2940624 49.8640986, 6.2939983 49.8641019, 6.2937609 49.8641011, 6.2930202 49.8641491, 6.2926375 49.8641686, 6.2924842 49.8641791, 6.2919205 49.8642775, 6.29171 49.8642861, 6.2915246 49.8642842, 6.2913593 49.8642631, 6.2909792 49.8641946, 6.2907813 49.8641491, 6.2906099 49.8641097, 6.2904384 49.8640613, 6.2902106 49.863979, 6.2900374 49.8638902, 6.2898797 49.8637991, 6.2897863 49.8637308, 6.2896856 49.8636411, 6.2895805 49.8635284, 6.2894771 49.8634062, 6.2893794 49.8632418, 6.2885343 49.8617817, 6.288195 49.8612413, 6.2881473 49.8611467, 6.2880863 49.8609768, 6.2882059 49.8610596, 6.2884589 49.8612348, 6.28961 49.8619887, 6.2898371 49.8621556, 6.2899397 49.8622494, 6.2900076 49.8623654, 6.2900671 49.8625156, 6.29009 49.8625574, 6.2901328 49.8625897, 6.2901749 49.8625974, 6.2901998 49.8626619, 6.2902882 49.8628192, 6.2904796 49.8630123, 6.2907612 49.8631752, 6.291035 49.8632607, 6.2914046 49.8633198, 6.2917072 49.8633202, 6.2919541 49.8632833, 6.2921601 49.8632149, 6.2922816 49.8631746, 6.2930977 49.862815, 6.2933817 49.8627284, 6.2943243 49.8625378, 6.2946564 49.862494, 6.2958414 49.862429, 6.2963735 49.8623522, 6.2969584 49.8622677, 6.2977076 49.8622335, 6.2983173 49.8622029, 6.2986162 49.8622192, 6.2993503 49.8623209, 6.2997276 49.862403, 6.3001272 49.8625213, 6.3006376 49.8627419, 6.3011232 49.8628761, 6.3022605 49.8631182, 6.302534 49.8631943, 6.3038537 49.8636282, 6.3042574 49.8637441, 6.3046275 49.8638893, 6.3048052 49.8639217, 6.3049118 49.8639187, 6.3050205 49.8638668, 6.3052377 49.8635963, 6.3053356 49.8634147, 6.3053732 49.8632712, 6.3053799 49.8631173, 6.3053289 49.8629686, 6.3052484 49.862832, 6.3051787 49.8627421, 6.3051747 49.8626514, 6.3052565 49.8625226, 6.3054121 49.8623263, 6.305467 49.8622139, 6.305699 49.8615655, 6.3058117 49.8611333, 6.3058305 49.8609967, 6.3057822 49.8608791, 6.3056937 49.8604295, 6.305699 49.8602497, 6.3058358 49.8599419, 6.3059834 49.8598114, 6.3062677 49.8594336, 6.306362 49.8592795, 6.3064849 49.8590618, 6.3065292 49.8588595, 6.3065198 49.8586062, 6.3065279 49.8585214, 6.3065842 49.8584333, 6.3068162 49.8581739, 6.306894 49.8580451, 6.3069718 49.8578661, 6.3070361 49.8577891, 6.3072024 49.8576793, 6.3073365 49.8575479, 6.3074237 49.857426, 6.3074505 49.8572929, 6.3075216 49.8571779, 6.3075404 49.8570793, 6.3075511 49.8568865, 6.3075793 49.8567162, 6.3076504 49.8565787, 6.3080017 49.8562095, 6.3081412 49.8561282, 6.3084483 49.8559761, 6.3086106 49.8558472, 6.3087755 49.8556025, 6.3089526 49.8554417, 6.3090558 49.855331, 6.3091631 49.8551201, 6.3092349 49.8550176, 6.3094682 49.8547963, 6.3095556 49.8546421, 6.3095695 49.8546177, 6.3096258 49.8545494, 6.3097599 49.8543168, 6.3101193 49.8538309, 6.310173 49.8537271, 6.3106618 49.853153, 6.3108355 49.8528071, 6.3109522 49.8527353, 6.311329 49.8526065, 6.31157 49.8524903, 6.3117233 49.8524163, 6.3119977 49.8523475, 6.3120304 49.8523393, 6.3122477 49.8522675, 6.312505 49.8521112, 6.3126259 49.8520289, 6.312725 49.851924, 6.3128056 49.8518386, 6.3129685 49.851712, 6.313055 49.8516847, 6.3132615 49.8516752, 6.3135137 49.8516475), (6.313743 49.8515429, 6.3139294 49.8514755, 6.3142707 49.8513147, 6.3145884 49.851165, 6.3146077 49.8512187, 6.3145772 49.8512688, 6.3145973 49.8513492, 6.3146507 49.8513768, 6.3146073 49.8514296, 6.3146087 49.8514971, 6.3146547 49.8515618, 6.3148065 49.8516394, 6.3150103 49.8517228, 6.3154542 49.8518853, 6.315752 49.8519779, 6.3159035 49.8520254, 6.3160131 49.8520863, 6.3160324 49.8521497, 6.3160662 49.8522607, 6.3161281 49.8524785, 6.3162896 49.8529882, 6.3163279 49.8531043, 6.31637 49.8532272, 6.3163955 49.8532848, 6.3164334 49.853329, 6.3164764 49.8533496, 6.3165311 49.8533607, 6.3166197 49.8533572, 6.3168712 49.8533075), (6.318518 49.8507601, 6.3184658 49.8510266, 6.3184428 49.8512106, 6.3184255 49.8514608, 6.3184301 49.8516065, 6.318471 49.851876, 6.3185447 49.8521597, 6.3186522 49.8524464, 6.3187788 49.8526921, 6.3188641 49.852783, 6.318316 49.8529616, 6.3179236 49.8530585, 6.3173933 49.8531895, 6.3168712 49.8533075))")
  }

  "route" should "return a multilinestring 2" in {
    val innerArray = Array.empty[String]
    val outerArray = Array("LINESTRING (6.1205446 49.7961774, 6.1202653 49.7961329, 6.1201121 49.7960493, 6.1198683 49.7958044, 6.1195761 49.7955315, 6.1195066 49.7954381, 6.1194723 49.7953947, 6.1194318 49.7953369, 6.1194145 49.7952167)","LINESTRING (6.1211156 49.7961804, 6.1205446 49.7961774)","LINESTRING (6.1211156 49.7961804, 6.1213699 49.796182, 6.1217047 49.7961805, 6.1220002 49.7962232, 6.1223915 49.7963143, 6.1228476 49.7965009, 6.1232403 49.7967042, 6.1234963 49.7969157, 6.1237068 49.7971033, 6.1241807 49.7975472, 6.1245234 49.7977915, 6.1250622 49.7980498, 6.1256162 49.7982765, 6.1259146 49.7983466, 6.1261842 49.7983889, 6.127136 49.798448, 6.1280657 49.798517, 6.1284459 49.798502, 6.1291033 49.7983725, 6.131948 49.7970903, 6.1322882 49.7969711, 6.132547 49.7969246, 6.1327649 49.7969015, 6.13294 49.7968926, 6.1331347 49.7969044, 6.1332918 49.796944, 6.1334853 49.7969996, 6.1343167 49.7973434, 6.1346059 49.7974611, 6.1348012 49.7975143, 6.1349737 49.7975477, 6.1352189 49.7975854, 6.1354622 49.7976015, 6.1357266 49.7976139, 6.1359067 49.7976086, 6.1371661 49.7975636, 6.1375562 49.797568, 6.137871 49.7975695, 6.138471 49.7976195, 6.1386733 49.7976664, 6.1390906 49.7977499, 6.1395359 49.7978826, 6.1399208 49.7981202, 6.1401352 49.798319, 6.1404957 49.798682, 6.1407968 49.798869, 6.1410204 49.7989588, 6.1419044 49.7990707)","LINESTRING (6.1419044 49.7990707, 6.1421738 49.7991068)","LINESTRING (6.1421738 49.7991068, 6.1430815 49.7992283, 6.1443773 49.7994086, 6.1450434 49.7996207, 6.1456639 49.7998769, 6.1462343 49.8001213, 6.1468529 49.8002936, 6.1474345 49.800359, 6.1490462 49.8004349, 6.1493482 49.8004586, 6.1496851 49.8005244, 6.1499728 49.8006304, 6.1501919 49.8007554, 6.1503476 49.8008805, 6.1506209 49.8011845, 6.150753 49.8013596, 6.1509052 49.8015446, 6.1510692 49.8016939, 6.1512438 49.8018248, 6.1514408 49.80192, 6.1517463 49.8020281, 6.1520165 49.8020898, 6.1522288 49.8021279, 6.1541093 49.8024439, 6.1543877 49.8024705, 6.1546413 49.8024804, 6.1548477 49.8024774, 6.155112 49.8024659, 6.1553586 49.8024667, 6.1557502 49.802488, 6.1559696 49.8025078, 6.1561938 49.8025535, 6.1564122 49.8026108, 6.1567224 49.8027334, 6.1568999 49.8027963, 6.157127 49.8028258, 6.1572644 49.8028615, 6.1576306 49.8031522, 6.1578074 49.803322, 6.1580622 49.8034639, 6.1584055 49.8035765, 6.1586603 49.8036197, 6.1588535 49.8036336, 6.1591503 49.8036142, 6.1594141 49.8035644, 6.1600256 49.8033843, 6.1603636 49.8033185, 6.1607042 49.8032683, 6.1610851 49.8032441, 6.1614981 49.8032441, 6.1619434 49.8032839, 6.1630808 49.8034584, 6.1638504 49.8035765, 6.1645639 49.8037184, 6.1652344 49.8039365, 6.1654605 49.8040396, 6.1680124 49.8053683, 6.1688465 49.8057853, 6.1691175 49.805943, 6.1697663 49.8063551)","LINESTRING (6.1697663 49.8063551, 6.1698338 49.8064003, 6.1699517 49.8064794, 6.1703088 49.8067187, 6.1720535 49.807888, 6.1722177 49.8079726, 6.1724898 49.8081127, 6.1756213 49.8099007)","LINESTRING (6.1756213 49.8099007, 6.1760572 49.8101595, 6.1763629 49.8103759, 6.1776182 49.8113806, 6.1777872 49.8115218, 6.1785476 49.8121569, 6.1788507 49.8124035, 6.1791994 49.812651, 6.1795025 49.8127843, 6.1803809 49.8130621, 6.1831167 49.8139067)","LINESTRING (6.1831167 49.8139067, 6.1847422 49.8144069, 6.1859717 49.8147915, 6.1866572 49.8150014, 6.1871503 49.8151691, 6.1874014 49.8152326, 6.1876591 49.8152597, 6.1879347 49.8152571, 6.1882003 49.8152236, 6.1884478 49.8151545, 6.1886699 49.8150557, 6.1888473 49.8149478, 6.1889814 49.8148275, 6.1890766 49.8147029, 6.189149 49.8145566, 6.1891805 49.8144069, 6.189149 49.8140417)","LINESTRING (6.189149 49.8140417, 6.1890686 49.8131201, 6.1890766 49.8129738, 6.1891249 49.8128302, 6.1892174 49.8126848, 6.1893421 49.8125532, 6.1895125 49.8124356, 6.1897472 49.8123213, 6.1905867 49.8119959, 6.1908549 49.8119146, 6.1911178 49.8118661, 6.1915711 49.8118133, 6.1919036 49.8118021)","LINESTRING (6.1919036 49.8118021, 6.1922121 49.8118272, 6.1925004 49.8118782, 6.1927566 49.8119501, 6.1930127 49.8120634, 6.1932635 49.8122062, 6.193458 49.8123706)","LINESTRING (6.193458 49.8123706, 6.193631 49.8125809, 6.1937069 49.8127392)","LINESTRING (6.1940458 49.8134575, 6.1937069 49.8127392)","LINESTRING (6.2044873 49.8150394, 6.2042302 49.8151814, 6.2041113 49.8152406, 6.2039132 49.8153282, 6.2036705 49.8154003, 6.2034693 49.8154341, 6.2032172 49.8154453, 6.2029986 49.8154419, 6.2027773 49.815415, 6.2021349 49.8152645, 6.2016495 49.8151546, 6.2000005 49.8147738, 6.1998416 49.8147306, 6.1994836 49.8146631, 6.1992398 49.8146344, 6.1988875 49.8146155, 6.1978434 49.8146172, 6.1973096 49.8146007, 6.1967732 49.8145566, 6.1954468 49.8143671, 6.195074 49.8142987, 6.1948179 49.8142356, 6.1946073 49.8141438, 6.1943948 49.8139979, 6.1942584 49.8138542, 6.1941165 49.8136073, 6.1940458 49.8134575)","LINESTRING (6.2029934 49.8082536, 6.2019358 49.8088756, 6.2011598 49.809378, 6.2008223 49.8096661, 6.2005942 49.8099436, 6.2003875 49.8102374, 6.2001863 49.810581, 6.2001233 49.8107613, 6.2001086 49.81144, 6.2001443 49.811604, 6.2003219 49.8118149, 6.2004896 49.8119502, 6.2007128 49.8120552, 6.2009779 49.8121149, 6.2018508 49.8121458, 6.2023783 49.8121895, 6.202683 49.8122727, 6.2030113 49.8124413, 6.2037992 49.8132733, 6.2045422 49.8140573, 6.204671 49.8142529, 6.2047308 49.8144037, 6.2047368 49.8145977, 6.2047159 49.8147552, 6.2046482 49.8149157, 6.2045671 49.8149981, 6.2044873 49.8150394)","LINESTRING (6.2087438 49.8080114, 6.208326 49.8081366, 6.2080697 49.8082069, 6.2077783 49.8082503, 6.207498 49.8082754, 6.2072271 49.8082849, 6.2069428 49.8082773, 6.20663 49.8082508, 6.2064594 49.8082253, 6.2044363 49.8078868, 6.2042123 49.8078729, 6.2040044 49.8078772, 6.203744 49.8079106, 6.2035497 49.8079681, 6.2034124 49.8080211, 6.2032414 49.8081077, 6.2029934 49.8082536)","LINESTRING (6.2087438 49.8080114, 6.2095673 49.8076046, 6.209731 49.8074938, 6.2098959 49.807345, 6.2101426 49.8070522, 6.2102526 49.8069183, 6.2103645 49.8068032, 6.210404 49.8067688, 6.2105295 49.8066799, 6.2106902 49.8065982, 6.2108669 49.8065314, 6.2111023 49.8064787)","LINESTRING (6.2111023 49.8064787, 6.2111869 49.8064598, 6.2124529 49.806248, 6.2125553 49.8062311)","LINESTRING (6.2125553 49.8062311, 6.2126754 49.8062139, 6.2129832 49.8061697)","LINESTRING (6.2129832 49.8061697, 6.2132298 49.8061342)","LINESTRING (6.2132298 49.8061342, 6.2134416 49.8060623, 6.2136051 49.8059496, 6.2137023 49.8058085)","LINESTRING (6.2150042 49.8041962, 6.2148969 49.8042923, 6.2146304 49.8045454, 6.2141559 49.8051388)","LINESTRING (6.2172693 49.8020392, 6.2171034 49.8024736, 6.2170031 49.8026779, 6.2169089 49.802805, 6.2167789 49.8029265, 6.2165277 49.8031103, 6.2160171 49.8034642, 6.215359 49.8039249, 6.2150042 49.8041962)","LINESTRING (6.2182899 49.8000327, 6.2181188 49.8002271, 6.2179825 49.8003939, 6.2178509 49.8006043, 6.2177172 49.8008413, 6.217486 49.8014436, 6.2172693 49.8020392)","LINESTRING (6.2189639 49.799418, 6.2184327 49.7998902, 6.2182899 49.8000327)","LINESTRING (6.2202854 49.7930241, 6.2204073 49.7963935, 6.2204548 49.7975641, 6.2204284 49.7978267, 6.2203503 49.7980662, 6.220195 49.7982992, 6.2200225 49.7984772, 6.2189639 49.799418)","LINESTRING (6.2200775 49.791416, 6.2200868 49.7914437, 6.2201594 49.7916978, 6.2202286 49.7920238, 6.220255 49.7922638, 6.2202653 49.792469, 6.2202734 49.7926313, 6.2202854 49.7930241)","LINESTRING (6.219049 49.7881122, 6.2190823 49.7884312, 6.2193333 49.7891982, 6.2193698 49.7893055, 6.2195036 49.7897349, 6.2195832 49.7899519, 6.2197711 49.7905229, 6.2198101 49.7906367, 6.2200775 49.791416)","LINESTRING (6.219049 49.7881122, 6.219028 49.7871131, 6.2190369 49.7869665)","LINESTRING (6.2191556 49.786492, 6.2192548 49.7862422)","LINESTRING (6.2192548 49.7862422, 6.2193261 49.7860922, 6.2193487 49.7860441, 6.2194845 49.7857543, 6.2196299 49.7854623, 6.21965 49.785422)","LINESTRING (6.21965 49.785422, 6.2197545 49.7852111, 6.2197738 49.7851723)","LINESTRING (6.2197738 49.7851723, 6.2197932 49.785037, 6.2198072 49.7849344, 6.2197702 49.7847605, 6.219713 49.784637, 6.219572 49.7843761)","LINESTRING (6.219572 49.7843761, 6.2195196 49.7842919, 6.2194955 49.7842533, 6.2194738 49.7842281, 6.2194515 49.7842022)","LINESTRING (6.2194515 49.7842022, 6.2194262 49.7841744, 6.2193736 49.7841167, 6.2192924 49.7840277)","LINESTRING (6.2192924 49.7840277, 6.2192031 49.783932)","POLYGON ((6.1194039 49.7953942, 6.1192411 49.7954384, 6.1191799 49.7953445, 6.1191964 49.79534, 6.119134 49.7952443, 6.1192804 49.7952046, 6.1194039 49.7953942))","LINESTRING (6.1572793 49.803067, 6.1572114 49.8031179, 6.1573991 49.8032223, 6.157467 49.8031714, 6.1572793 49.803067)","LINESTRING (6.2133294 49.8056664, 6.2135855 49.8057537, 6.2136944 49.8056267, 6.2136392 49.8056073, 6.2136462 49.805591, 6.2135842 49.8055704, 6.2134745 49.8055347, 6.2134164 49.8056065, 6.2133494 49.805602, 6.2133294 49.8056664)","LINESTRING (6.21912 49.7839603, 6.2191382 49.7839528, 6.2192367 49.7840536, 6.2192194 49.7840606, 6.2191639 49.7840833, 6.2190627 49.7839797, 6.2190762 49.7839741, 6.2190509 49.7839482, 6.2190919 49.7839315, 6.21912 49.7839603)")
    val tag_type = "route"
    val str = Main.createRelationGeoms(innerArray, outerArray, tag_type)
    str should be ("MULTILINESTRING ((6.1194145 49.7952167, 6.1194318 49.7953369, 6.1194723 49.7953947, 6.1195066 49.7954381, 6.1195761 49.7955315, 6.1198683 49.7958044, 6.1201121 49.7960493, 6.1202653 49.7961329, 6.1205446 49.7961774, 6.1211156 49.7961804, 6.1213699 49.796182, 6.1217047 49.7961805, 6.1220002 49.7962232, 6.1223915 49.7963143, 6.1228476 49.7965009, 6.1232403 49.7967042, 6.1234963 49.7969157, 6.1237068 49.7971033, 6.1241807 49.7975472, 6.1245234 49.7977915, 6.1250622 49.7980498, 6.1256162 49.7982765, 6.1259146 49.7983466, 6.1261842 49.7983889, 6.127136 49.798448, 6.1280657 49.798517, 6.1284459 49.798502, 6.1291033 49.7983725, 6.131948 49.7970903, 6.1322882 49.7969711, 6.132547 49.7969246, 6.1327649 49.7969015, 6.13294 49.7968926, 6.1331347 49.7969044, 6.1332918 49.796944, 6.1334853 49.7969996, 6.1343167 49.7973434, 6.1346059 49.7974611, 6.1348012 49.7975143, 6.1349737 49.7975477, 6.1352189 49.7975854, 6.1354622 49.7976015, 6.1357266 49.7976139, 6.1359067 49.7976086, 6.1371661 49.7975636, 6.1375562 49.797568, 6.137871 49.7975695, 6.138471 49.7976195, 6.1386733 49.7976664, 6.1390906 49.7977499, 6.1395359 49.7978826, 6.1399208 49.7981202, 6.1401352 49.798319, 6.1404957 49.798682, 6.1407968 49.798869, 6.1410204 49.7989588, 6.1419044 49.7990707, 6.1421738 49.7991068, 6.1430815 49.7992283, 6.1443773 49.7994086, 6.1450434 49.7996207, 6.1456639 49.7998769, 6.1462343 49.8001213, 6.1468529 49.8002936, 6.1474345 49.800359, 6.1490462 49.8004349, 6.1493482 49.8004586, 6.1496851 49.8005244, 6.1499728 49.8006304, 6.1501919 49.8007554, 6.1503476 49.8008805, 6.1506209 49.8011845, 6.150753 49.8013596, 6.1509052 49.8015446, 6.1510692 49.8016939, 6.1512438 49.8018248, 6.1514408 49.80192, 6.1517463 49.8020281, 6.1520165 49.8020898, 6.1522288 49.8021279, 6.1541093 49.8024439, 6.1543877 49.8024705, 6.1546413 49.8024804, 6.1548477 49.8024774, 6.155112 49.8024659, 6.1553586 49.8024667, 6.1557502 49.802488, 6.1559696 49.8025078, 6.1561938 49.8025535, 6.1564122 49.8026108, 6.1567224 49.8027334, 6.1568999 49.8027963, 6.157127 49.8028258, 6.1572644 49.8028615, 6.1576306 49.8031522, 6.1578074 49.803322, 6.1580622 49.8034639, 6.1584055 49.8035765, 6.1586603 49.8036197, 6.1588535 49.8036336, 6.1591503 49.8036142, 6.1594141 49.8035644, 6.1600256 49.8033843, 6.1603636 49.8033185, 6.1607042 49.8032683, 6.1610851 49.8032441, 6.1614981 49.8032441, 6.1619434 49.8032839, 6.1630808 49.8034584, 6.1638504 49.8035765, 6.1645639 49.8037184, 6.1652344 49.8039365, 6.1654605 49.8040396, 6.1680124 49.8053683, 6.1688465 49.8057853, 6.1691175 49.805943, 6.1697663 49.8063551, 6.1698338 49.8064003, 6.1699517 49.8064794, 6.1703088 49.8067187, 6.1720535 49.807888, 6.1722177 49.8079726, 6.1724898 49.8081127, 6.1756213 49.8099007, 6.1760572 49.8101595, 6.1763629 49.8103759, 6.1776182 49.8113806, 6.1777872 49.8115218, 6.1785476 49.8121569, 6.1788507 49.8124035, 6.1791994 49.812651, 6.1795025 49.8127843, 6.1803809 49.8130621, 6.1831167 49.8139067, 6.1847422 49.8144069, 6.1859717 49.8147915, 6.1866572 49.8150014, 6.1871503 49.8151691, 6.1874014 49.8152326, 6.1876591 49.8152597, 6.1879347 49.8152571, 6.1882003 49.8152236, 6.1884478 49.8151545, 6.1886699 49.8150557, 6.1888473 49.8149478, 6.1889814 49.8148275, 6.1890766 49.8147029, 6.189149 49.8145566, 6.1891805 49.8144069, 6.189149 49.8140417, 6.1890686 49.8131201, 6.1890766 49.8129738, 6.1891249 49.8128302, 6.1892174 49.8126848, 6.1893421 49.8125532, 6.1895125 49.8124356, 6.1897472 49.8123213, 6.1905867 49.8119959, 6.1908549 49.8119146, 6.1911178 49.8118661, 6.1915711 49.8118133, 6.1919036 49.8118021, 6.1922121 49.8118272, 6.1925004 49.8118782, 6.1927566 49.8119501, 6.1930127 49.8120634, 6.1932635 49.8122062, 6.193458 49.8123706, 6.193631 49.8125809, 6.1937069 49.8127392, 6.1940458 49.8134575, 6.1941165 49.8136073, 6.1942584 49.8138542, 6.1943948 49.8139979, 6.1946073 49.8141438, 6.1948179 49.8142356, 6.195074 49.8142987, 6.1954468 49.8143671, 6.1967732 49.8145566, 6.1973096 49.8146007, 6.1978434 49.8146172, 6.1988875 49.8146155, 6.1992398 49.8146344, 6.1994836 49.8146631, 6.1998416 49.8147306, 6.2000005 49.8147738, 6.2016495 49.8151546, 6.2021349 49.8152645, 6.2027773 49.815415, 6.2029986 49.8154419, 6.2032172 49.8154453, 6.2034693 49.8154341, 6.2036705 49.8154003, 6.2039132 49.8153282, 6.2041113 49.8152406, 6.2042302 49.8151814, 6.2044873 49.8150394, 6.2045671 49.8149981, 6.2046482 49.8149157, 6.2047159 49.8147552, 6.2047368 49.8145977, 6.2047308 49.8144037, 6.204671 49.8142529, 6.2045422 49.8140573, 6.2037992 49.8132733, 6.2030113 49.8124413, 6.202683 49.8122727, 6.2023783 49.8121895, 6.2018508 49.8121458, 6.2009779 49.8121149, 6.2007128 49.8120552, 6.2004896 49.8119502, 6.2003219 49.8118149, 6.2001443 49.811604, 6.2001086 49.81144, 6.2001233 49.8107613, 6.2001863 49.810581, 6.2003875 49.8102374, 6.2005942 49.8099436, 6.2008223 49.8096661, 6.2011598 49.809378, 6.2019358 49.8088756, 6.2029934 49.8082536, 6.2032414 49.8081077, 6.2034124 49.8080211, 6.2035497 49.8079681, 6.203744 49.8079106, 6.2040044 49.8078772, 6.2042123 49.8078729, 6.2044363 49.8078868, 6.2064594 49.8082253, 6.20663 49.8082508, 6.2069428 49.8082773, 6.2072271 49.8082849, 6.207498 49.8082754, 6.2077783 49.8082503, 6.2080697 49.8082069, 6.208326 49.8081366, 6.2087438 49.8080114, 6.2095673 49.8076046, 6.209731 49.8074938, 6.2098959 49.807345, 6.2101426 49.8070522, 6.2102526 49.8069183, 6.2103645 49.8068032, 6.210404 49.8067688, 6.2105295 49.8066799, 6.2106902 49.8065982, 6.2108669 49.8065314, 6.2111023 49.8064787, 6.2111869 49.8064598, 6.2124529 49.806248, 6.2125553 49.8062311, 6.2126754 49.8062139, 6.2129832 49.8061697, 6.2132298 49.8061342, 6.2134416 49.8060623, 6.2136051 49.8059496, 6.2137023 49.8058085), (6.2190369 49.7869665, 6.219028 49.7871131, 6.219049 49.7881122, 6.2190823 49.7884312, 6.2193333 49.7891982, 6.2193698 49.7893055, 6.2195036 49.7897349, 6.2195832 49.7899519, 6.2197711 49.7905229, 6.2198101 49.7906367, 6.2200775 49.791416, 6.2200868 49.7914437, 6.2201594 49.7916978, 6.2202286 49.7920238, 6.220255 49.7922638, 6.2202653 49.792469, 6.2202734 49.7926313, 6.2202854 49.7930241, 6.2204073 49.7963935, 6.2204548 49.7975641, 6.2204284 49.7978267, 6.2203503 49.7980662, 6.220195 49.7982992, 6.2200225 49.7984772, 6.2189639 49.799418, 6.2184327 49.7998902, 6.2182899 49.8000327, 6.2181188 49.8002271, 6.2179825 49.8003939, 6.2178509 49.8006043, 6.2177172 49.8008413, 6.217486 49.8014436, 6.2172693 49.8020392, 6.2171034 49.8024736, 6.2170031 49.8026779, 6.2169089 49.802805, 6.2167789 49.8029265, 6.2165277 49.8031103, 6.2160171 49.8034642, 6.215359 49.8039249, 6.2150042 49.8041962, 6.2148969 49.8042923, 6.2146304 49.8045454, 6.2141559 49.8051388), (6.2191556 49.786492, 6.2192548 49.7862422, 6.2193261 49.7860922, 6.2193487 49.7860441, 6.2194845 49.7857543, 6.2196299 49.7854623, 6.21965 49.785422, 6.2197545 49.7852111, 6.2197738 49.7851723, 6.2197932 49.785037, 6.2198072 49.7849344, 6.2197702 49.7847605, 6.219713 49.784637, 6.219572 49.7843761, 6.2195196 49.7842919, 6.2194955 49.7842533, 6.2194738 49.7842281, 6.2194515 49.7842022, 6.2194262 49.7841744, 6.2193736 49.7841167, 6.2192924 49.7840277, 6.2192031 49.783932), (6.1194039 49.7953942, 6.1192411 49.7954384, 6.1191799 49.7953445, 6.1191964 49.79534, 6.119134 49.7952443, 6.1192804 49.7952046, 6.1194039 49.7953942), (6.1572793 49.803067, 6.1572114 49.8031179, 6.1573991 49.8032223, 6.157467 49.8031714, 6.1572793 49.803067), (6.2133294 49.8056664, 6.2135855 49.8057537, 6.2136944 49.8056267, 6.2136392 49.8056073, 6.2136462 49.805591, 6.2135842 49.8055704, 6.2134745 49.8055347, 6.2134164 49.8056065, 6.2133494 49.805602, 6.2133294 49.8056664), (6.21912 49.7839603, 6.2191382 49.7839528, 6.2192367 49.7840536, 6.2192194 49.7840606, 6.2191639 49.7840833, 6.2190627 49.7839797, 6.2190762 49.7839741, 6.2190509 49.7839482, 6.2190919 49.7839315, 6.21912 49.7839603))")
  }

  "route" should "return a multilinestring 3" in {
    val innerArray = Array.empty[String]
    val outerArray = Array("LINESTRING (6.2093256 49.9585993, 6.2029848 49.9586605, 6.2005702 49.9578205, 6.1962198 49.9565528, 6.190352 49.9546573, 6.1851626 49.9518967, 6.1765605 49.9509997, 6.1728791 49.952118, 6.1698379 49.9530433, 6.1633406 49.9488163, 6.159032 49.9458181, 6.1551553 49.9432551, 6.1522768 49.941336, 6.1485983 49.9388787, 6.1442776 49.9359845, 6.1391785 49.9336146, 6.1335581 49.9310185, 6.1299322 49.9293037, 6.1239695 49.9265276, 6.1226026 49.9248354, 6.1205039 49.9222017, 6.1191617 49.9205157, 6.1147749 49.9150829, 6.1126614 49.9124274, 6.1098862 49.9089497, 6.1111332 49.9077397, 6.1129191 49.9060138)","LINESTRING (6.1134582 49.9057291, 6.1129191 49.9060138)","POLYGON ((6.1138771 49.9061041, 6.1137115 49.906197, 6.1136901 49.9061918, 6.1136794 49.9061793, 6.113645 49.9061905, 6.1136019 49.9062045, 6.1135751 49.9062741, 6.1135027 49.9062952, 6.1124486 49.9048277, 6.1137816 49.9044218, 6.113962 49.9046459, 6.114648 49.9043976, 6.114758 49.9043561, 6.1147922 49.9043188, 6.1149242 49.9041195, 6.1153823 49.9040331, 6.1153454 49.9044736, 6.1156929 49.9049512, 6.1161152 49.905568, 6.1158154 49.9056824, 6.1146594 49.9060019, 6.1146432 49.9059791, 6.1145389 49.9060099, 6.1145533 49.90603, 6.1139811 49.9061875, 6.1139165 49.9061338, 6.1138771 49.9061041))")
    val tag_type = "route"
    val str = Main.createRelationGeoms(innerArray, outerArray, tag_type)
    str should be ("MULTILINESTRING ((6.1138771 49.9061041, 6.1137115 49.906197, 6.1136901 49.9061918, 6.1136794 49.9061793, 6.113645 49.9061905, 6.1136019 49.9062045, 6.1135751 49.9062741, 6.1135027 49.9062952, 6.1124486 49.9048277, 6.1137816 49.9044218, 6.113962 49.9046459, 6.114648 49.9043976, 6.114758 49.9043561, 6.1147922 49.9043188, 6.1149242 49.9041195, 6.1153823 49.9040331, 6.1153454 49.9044736, 6.1156929 49.9049512, 6.1161152 49.905568, 6.1158154 49.9056824, 6.1146594 49.9060019, 6.1146432 49.9059791, 6.1145389 49.9060099, 6.1145533 49.90603, 6.1139811 49.9061875, 6.1139165 49.9061338, 6.1138771 49.9061041), (6.1134582 49.9057291, 6.1129191 49.9060138, 6.1111332 49.9077397, 6.1098862 49.9089497, 6.1126614 49.9124274, 6.1147749 49.9150829, 6.1191617 49.9205157, 6.1205039 49.9222017, 6.1226026 49.9248354, 6.1239695 49.9265276, 6.1299322 49.9293037, 6.1335581 49.9310185, 6.1391785 49.9336146, 6.1442776 49.9359845, 6.1485983 49.9388787, 6.1522768 49.941336, 6.1551553 49.9432551, 6.159032 49.9458181, 6.1633406 49.9488163, 6.1698379 49.9530433, 6.1728791 49.952118, 6.1765605 49.9509997, 6.1851626 49.9518967, 6.190352 49.9546573, 6.1962198 49.9565528, 6.2005702 49.9578205, 6.2029848 49.9586605, 6.2093256 49.9585993))")
  }

  "no inner LZ multiple outers LS boundary" should "return a polygon" in {
    val innerArray = Array.empty[String]
    val outerArray = Array("LINESTRING (5.8121236 49.8318837, 5.8116687 49.8320462, 5.811571 49.8320811, 5.811505 49.832123, 5.8108771 49.8325218, 5.810101 49.8332512, 5.809819 49.8340338, 5.8098825 49.8343565, 5.8099012 49.8344516, 5.8100393 49.8349378, 5.8100218 49.8350583, 5.810004 49.835181, 5.8101803 49.8357964, 5.8104742 49.8363433, 5.8109095 49.8367156, 5.8116126 49.8371714, 5.8116715 49.8377868, 5.8120479 49.8387365, 5.8123885 49.8391998, 5.8125032 49.8393559, 5.8127124 49.8396405, 5.8134135 49.8406084, 5.8135389 49.840705)","LINESTRING (5.8121236 49.8318837, 5.8124646 49.8322178, 5.813112 49.8325444, 5.8145819 49.832871, 5.8162164 49.8332356, 5.816934 49.8337141, 5.8177843 49.8340712, 5.8189249 49.8345953, 5.8199247 49.8350889, 5.8216612 49.8350539, 5.8295862 49.8348272, 5.8296536 49.8363412, 5.8297469 49.838439)","LINESTRING (5.8135389 49.840705, 5.8145133 49.8405139)","LINESTRING (5.8284031 49.8390011, 5.8273647 49.8389548, 5.8266244 49.8389624, 5.8259381 49.8390022, 5.8254691 49.8390324, 5.824776 49.8391043, 5.8245073 49.839132, 5.8241698 49.8391667, 5.8230196 49.8392878, 5.821895 49.8394185, 5.8213964 49.8394695, 5.8206111 49.8395621, 5.8197263 49.8396567, 5.8193901 49.8396984, 5.8191557 49.8397276, 5.8187234 49.8397813, 5.8177095 49.8399165, 5.8176038 49.8399073, 5.8165435 49.8400662, 5.8162208 49.8401184, 5.8161192 49.8401315, 5.815802 49.8401824, 5.8154713 49.8402354, 5.8148478 49.8403355, 5.8145991 49.8404431, 5.8145133 49.8405139)","LINESTRING (5.8284031 49.8390011, 5.8296728 49.83847, 5.8297469 49.838439)")
    val tag_type = "boundary"
    val str = Main.createRelationGeoms(innerArray, outerArray, tag_type)
    str should be ("POLYGON ((5.8121236 49.8318837, 5.8116687 49.8320462, 5.811571 49.8320811, 5.811505 49.832123, 5.8108771 49.8325218, 5.810101 49.8332512, 5.809819 49.8340338, 5.8098825 49.8343565, 5.8099012 49.8344516, 5.8100393 49.8349378, 5.8100218 49.8350583, 5.810004 49.835181, 5.8101803 49.8357964, 5.8104742 49.8363433, 5.8109095 49.8367156, 5.8116126 49.8371714, 5.8116715 49.8377868, 5.8120479 49.8387365, 5.8123885 49.8391998, 5.8125032 49.8393559, 5.8127124 49.8396405, 5.8134135 49.8406084, 5.8135389 49.840705, 5.8145133 49.8405139, 5.8145991 49.8404431, 5.8148478 49.8403355, 5.8154713 49.8402354, 5.815802 49.8401824, 5.8161192 49.8401315, 5.8162208 49.8401184, 5.8165435 49.8400662, 5.8176038 49.8399073, 5.8177095 49.8399165, 5.8187234 49.8397813, 5.8191557 49.8397276, 5.8193901 49.8396984, 5.8197263 49.8396567, 5.8206111 49.8395621, 5.8213964 49.8394695, 5.821895 49.8394185, 5.8230196 49.8392878, 5.8241698 49.8391667, 5.8245073 49.839132, 5.824776 49.8391043, 5.8254691 49.8390324, 5.8259381 49.8390022, 5.8266244 49.8389624, 5.8273647 49.8389548, 5.8284031 49.8390011, 5.8296728 49.83847, 5.8297469 49.838439, 5.8296536 49.8363412, 5.8295862 49.8348272, 5.8216612 49.8350539, 5.8199247 49.8350889, 5.8189249 49.8345953, 5.8177843 49.8340712, 5.816934 49.8337141, 5.8162164 49.8332356, 5.8145819 49.832871, 5.813112 49.8325444, 5.8124646 49.8322178, 5.8121236 49.8318837))")
  }

  "polygon case 1" should "return a polygon" in {
    val innerArray = Array.empty[String]
    val outerArray = Array("LINESTRING (5.9906859 49.5581436, 5.9910881 49.5588663, 5.9917016 49.5597841, 5.9918676 49.5601819, 5.9919621 49.5604173, 5.9920351 49.56084, 5.9920377 49.5613146, 5.9921402 49.561534, 5.9924166 49.5621255, 5.9930999 49.5628902, 5.9936655 49.5635784, 5.9938237 49.5637348, 5.994207 49.5641135, 5.9937874 49.5644661, 5.9929665 49.5650263)","LINESTRING (6.0099963 49.5535762, 6.0098819 49.5540202, 6.0099645 49.5547989, 6.009981 49.554954, 6.0096436 49.5554414, 6.0095349 49.5555985, 6.0094933 49.5556587, 6.0093446 49.5556674, 6.0089551 49.5556901, 6.003266 49.5555596, 6.0023231 49.5544126, 6.0015449 49.5534258, 6.0011129 49.5542231, 6.0010053 49.5543581, 6.0006194 49.5547904, 6.0004528 49.5549643, 6.0001828 49.5551648, 5.9996869 49.5554585, 5.9995928 49.5555078, 5.9995458 49.5555383, 5.99927 49.555755, 5.9988456 49.5561215, 5.9986444 49.556299, 5.9984816 49.5564615, 5.998372 49.556573, 5.9982917 49.5566675, 5.9982234 49.5567563, 5.9981934 49.5568264, 5.9981897 49.5569079, 5.9982004 49.5570103, 5.9982182 49.557109, 5.9971859 49.5567123, 5.9965295 49.5565293, 5.9955731 49.5571429, 5.9954806 49.557342, 5.995084 49.5576027, 5.9945004 49.5579096, 5.9940069 49.557558, 5.9936567 49.5577421, 5.9932136 49.5580489, 5.9926527 49.5582026, 5.9917633 49.5582496, 5.9906859 49.5581436)","LINESTRING (5.9929665 49.5650263, 5.9931954 49.5653924, 5.9934449 49.5658561, 5.9935247 49.566173, 5.9936002 49.5664621, 5.9935568 49.5668244, 5.993479 49.5670428, 5.9933861 49.5671886, 5.9945309 49.5672922, 5.9943711 49.568732, 5.9930396 49.568657, 5.9927469 49.5691973, 5.9927356 49.569302, 5.9927494 49.569387, 5.9928184 49.569482, 5.9929123 49.5695482, 5.9930712 49.5695832, 5.993269 49.5695878, 5.9934986 49.5695405, 5.9939012 49.5694038, 5.9942914 49.5692546, 5.9946165 49.5691786, 5.9948986 49.5691466, 5.9952775 49.569111, 5.9957118 49.5690665, 5.9960548 49.5689933, 5.9962568 49.5689613, 5.9970897 49.5695971, 5.9972667 49.5695587, 5.9980176 49.5699634, 5.9984633 49.5702036, 5.9987783 49.5703256, 5.9991993 49.5704582, 5.9990526 49.5705677, 5.9989241 49.5706794, 5.9985885 49.5709904, 5.9983901 49.5711818, 5.9980925 49.5714971, 5.9984883 49.5716545, 5.9993166 49.5719868, 6.0001875 49.572244, 6.0002229 49.5726495, 6.0001119 49.5729322, 6.0000396 49.5731487, 6.0008618 49.573499, 6.001018 49.5736011, 6.0011768 49.5738035, 6.0014032 49.5740667, 6.0017791 49.5742727, 6.0019655 49.5744205, 6.0021022 49.5745942, 6.0022374 49.574894, 6.0024388 49.5751787, 6.0026253 49.5753891, 6.0028104 49.575527, 6.0030978 49.5756954, 6.0034074 49.5758164, 6.003724 49.5759239, 6.0041055 49.5760484, 6.0044759 49.5761999, 6.0048366 49.5763656, 6.0051436 49.5765367, 6.0054144 49.5767015, 6.0055788 49.5768376, 6.0054747 49.577115, 6.0064032 49.5778134, 6.0072696 49.5783373, 6.0071421 49.5785923, 6.0073769 49.5787428, 6.0084346 49.5790529, 6.0098159 49.5794365, 6.0094351 49.5796824, 6.0095194 49.5797033, 6.0104099 49.5799245, 6.0121783 49.5804818, 6.0124282 49.5805352, 6.0133826 49.5807391, 6.014031 49.5810007, 6.0146345 49.5812179, 6.0147727 49.581264, 6.0147693 49.5812793, 6.014722 49.5814896)","LINESTRING (6.0384385 49.564271, 6.0373309 49.5628804, 6.0360583 49.5619595, 6.0347932 49.5612711, 6.0337863 49.5609496, 6.0329669 49.560674, 6.031884 49.5607105, 6.0316337 49.5607189, 6.0313931 49.5606402, 6.0306035 49.5603819, 6.030418 49.5603013, 6.0285138 49.5594742, 6.0265518 49.558622, 6.0255665 49.5580769, 6.0252391 49.5581233, 6.025123 49.5582918, 6.0223547 49.557316, 6.0206648 49.5565836, 6.0201476 49.5562323, 6.019208 49.5556825, 6.0179181 49.5552894, 6.0158781 49.5547258, 6.0152683 49.5545275, 6.0152436 49.5542981, 6.0145179 49.5542836, 6.0135789 49.5538253, 6.0125882 49.5536403, 6.0120477 49.5535394, 6.0116457 49.5534748, 6.0109556 49.5535523, 6.0105823 49.5537441, 6.0099963 49.5535762)","LINESTRING (6.0374354 49.5694216, 6.0374566 49.5693885, 6.0383693 49.5673129, 6.0381194 49.5669283, 6.0389972 49.5666564, 6.0403799 49.5665102, 6.0400122 49.5658346, 6.0398371 49.5654838, 6.0396406 49.5652092, 6.0393823 49.5649869, 6.0384385 49.564271)","LINESTRING (6.0179076 49.5770989, 6.0181518 49.5764003, 6.0189559 49.5763307, 6.0191534 49.5763187, 6.0193979 49.5762966, 6.0206571 49.5761698, 6.0207955 49.5761536, 6.0210539 49.5761149, 6.0211222 49.576106, 6.0214745 49.5760465, 6.0216368 49.5760132, 6.0218936 49.575947, 6.0220665 49.575883, 6.0222739 49.5757788, 6.0224439 49.5756566, 6.0225137 49.5755794, 6.0225755 49.5754961, 6.0226308 49.5754022, 6.0228583 49.5750724, 6.0234463 49.5742004, 6.0237302 49.5737166, 6.0238892 49.57341, 6.0239418 49.5733348, 6.0240629 49.5731617, 6.0244235 49.5727105, 6.0246338 49.5723948, 6.0248109 49.5720979, 6.0249484 49.5718373, 6.0251262 49.5713935, 6.0251661 49.5712759, 6.0252354 49.5711832, 6.0258235 49.5706001, 6.0260259 49.5702895, 6.0261634 49.5701247, 6.0262717 49.5699842, 6.0263785 49.5698374, 6.0264667 49.5696982, 6.0265716 49.569512, 6.0266709 49.5693525, 6.0267343 49.5691698, 6.0267838 49.569051, 6.0268017 49.5690057, 6.0268754 49.5688694, 6.0269286 49.5687785, 6.0269923 49.5686802, 6.0270398 49.5686172, 6.0270853 49.5685617, 6.0271386 49.5684961, 6.0271978 49.5684344, 6.0272609 49.56836, 6.0273888 49.5682365, 6.0274619 49.568171, 6.0275604 49.5680854, 6.0281753 49.5675832, 6.0289179 49.567788, 6.0294569 49.5678979, 6.030697 49.5681559, 6.0322706 49.5680148, 6.03236 49.568035, 6.0326059 49.568084, 6.0327612 49.5681167, 6.0329647 49.568157, 6.033262 49.5682161, 6.0334627 49.5682556, 6.0336895 49.5682978, 6.0341433 49.5683982, 6.0343717 49.5684436, 6.0345944 49.5684869, 6.0347867 49.568524, 6.0351258 49.5685907, 6.0354465 49.5686589, 6.0356808 49.5687222, 6.0359486 49.5688084, 6.0360891 49.568864, 6.0362047 49.5689129, 6.036435 49.5690016, 6.0366083 49.5690721, 6.0367851 49.569145, 6.0369282 49.5692021, 6.0374354 49.5694216)","LINESTRING (6.014722 49.5814896, 6.0149488 49.581547, 6.0162526 49.581926, 6.0182186 49.5827133, 6.0192157 49.5829267, 6.0199458 49.5831936, 6.0204421 49.5833039, 6.0207686 49.5833433, 6.0214172 49.5834143, 6.0222332 49.5834539, 6.0224383 49.5831774, 6.0229649 49.5835704, 6.0234555 49.5838865, 6.0247688 49.5847791, 6.0255204 49.5842952, 6.026144 49.5844788, 6.0267111 49.5845953, 6.0267484 49.5846513, 6.027226 49.5848076, 6.0273797 49.5842119, 6.0277853 49.5836575, 6.0277441 49.5835455, 6.0280229 49.5835115, 6.0280655 49.5833062, 6.0280899 49.5831885, 6.0282332 49.5826996, 6.0282812 49.5825357, 6.0283859 49.5818488)","LINESTRING (6.0283859 49.5818488, 6.0283068 49.5815304, 6.0279674 49.5801653, 6.0279889 49.5797062, 6.0267053 49.579503, 6.025726 49.5789741, 6.0245811 49.5786499, 6.0247938 49.5778779, 6.0229643 49.5774263, 6.0226339 49.5777482, 6.0191972 49.5771451, 6.0179076 49.5770989)")
    val tag_type = "boundary"
    val str = Main.createRelationGeoms(innerArray, outerArray, tag_type)
    val reader = new WKTReader()
    val expectedLS = reader.read("POLYGON ((5.9906859 49.5581436, 5.9910881 49.5588663, 5.9917016 49.5597841, 5.9918676 49.5601819, 5.9919621 49.5604173, 5.9920351 49.56084, 5.9920377 49.5613146, 5.9921402 49.561534, 5.9924166 49.5621255, 5.9930999 49.5628902, 5.9936655 49.5635784, 5.9938237 49.5637348, 5.994207 49.5641135, 5.9937874 49.5644661, 5.9929665 49.5650263, 5.9931954 49.5653924, 5.9934449 49.5658561, 5.9935247 49.566173, 5.9936002 49.5664621, 5.9935568 49.5668244, 5.993479 49.5670428, 5.9933861 49.5671886, 5.9945309 49.5672922, 5.9943711 49.568732, 5.9930396 49.568657, 5.9927469 49.5691973, 5.9927356 49.569302, 5.9927494 49.569387, 5.9928184 49.569482, 5.9929123 49.5695482, 5.9930712 49.5695832, 5.993269 49.5695878, 5.9934986 49.5695405, 5.9939012 49.5694038, 5.9942914 49.5692546, 5.9946165 49.5691786, 5.9948986 49.5691466, 5.9952775 49.569111, 5.9957118 49.5690665, 5.9960548 49.5689933, 5.9962568 49.5689613, 5.9970897 49.5695971, 5.9972667 49.5695587, 5.9980176 49.5699634, 5.9984633 49.5702036, 5.9987783 49.5703256, 5.9991993 49.5704582, 5.9990526 49.5705677, 5.9989241 49.5706794, 5.9985885 49.5709904, 5.9983901 49.5711818, 5.9980925 49.5714971, 5.9984883 49.5716545, 5.9993166 49.5719868, 6.0001875 49.572244, 6.0002229 49.5726495, 6.0001119 49.5729322, 6.0000396 49.5731487, 6.0008618 49.573499, 6.001018 49.5736011, 6.0011768 49.5738035, 6.0014032 49.5740667, 6.0017791 49.5742727, 6.0019655 49.5744205, 6.0021022 49.5745942, 6.0022374 49.574894, 6.0024388 49.5751787, 6.0026253 49.5753891, 6.0028104 49.575527, 6.0030978 49.5756954, 6.0034074 49.5758164, 6.003724 49.5759239, 6.0041055 49.5760484, 6.0044759 49.5761999, 6.0048366 49.5763656, 6.0051436 49.5765367, 6.0054144 49.5767015, 6.0055788 49.5768376, 6.0054747 49.577115, 6.0064032 49.5778134, 6.0072696 49.5783373, 6.0071421 49.5785923, 6.0073769 49.5787428, 6.0084346 49.5790529, 6.0098159 49.5794365, 6.0094351 49.5796824, 6.0095194 49.5797033, 6.0104099 49.5799245, 6.0121783 49.5804818, 6.0124282 49.5805352, 6.0133826 49.5807391, 6.014031 49.5810007, 6.0146345 49.5812179, 6.0147727 49.581264, 6.0147693 49.5812793, 6.014722 49.5814896, 6.0149488 49.581547, 6.0162526 49.581926, 6.0182186 49.5827133, 6.0192157 49.5829267, 6.0199458 49.5831936, 6.0204421 49.5833039, 6.0207686 49.5833433, 6.0214172 49.5834143, 6.0222332 49.5834539, 6.0224383 49.5831774, 6.0229649 49.5835704, 6.0234555 49.5838865, 6.0247688 49.5847791, 6.0255204 49.5842952, 6.026144 49.5844788, 6.0267111 49.5845953, 6.0267484 49.5846513, 6.027226 49.5848076, 6.0273797 49.5842119, 6.0277853 49.5836575, 6.0277441 49.5835455, 6.0280229 49.5835115, 6.0280655 49.5833062, 6.0280899 49.5831885, 6.0282332 49.5826996, 6.0282812 49.5825357, 6.0283859 49.5818488, 6.0283068 49.5815304, 6.0279674 49.5801653, 6.0279889 49.5797062, 6.0267053 49.579503, 6.025726 49.5789741, 6.0245811 49.5786499, 6.0247938 49.5778779, 6.0229643 49.5774263, 6.0226339 49.5777482, 6.0191972 49.5771451, 6.0179076 49.5770989, 6.0181518 49.5764003, 6.0189559 49.5763307, 6.0191534 49.5763187, 6.0193979 49.5762966, 6.0206571 49.5761698, 6.0207955 49.5761536, 6.0210539 49.5761149, 6.0211222 49.576106, 6.0214745 49.5760465, 6.0216368 49.5760132, 6.0218936 49.575947, 6.0220665 49.575883, 6.0222739 49.5757788, 6.0224439 49.5756566, 6.0225137 49.5755794, 6.0225755 49.5754961, 6.0226308 49.5754022, 6.0228583 49.5750724, 6.0234463 49.5742004, 6.0237302 49.5737166, 6.0238892 49.57341, 6.0239418 49.5733348, 6.0240629 49.5731617, 6.0244235 49.5727105, 6.0246338 49.5723948, 6.0248109 49.5720979, 6.0249484 49.5718373, 6.0251262 49.5713935, 6.0251661 49.5712759, 6.0252354 49.5711832, 6.0258235 49.5706001, 6.0260259 49.5702895, 6.0261634 49.5701247, 6.0262717 49.5699842, 6.0263785 49.5698374, 6.0264667 49.5696982, 6.0265716 49.569512, 6.0266709 49.5693525, 6.0267343 49.5691698, 6.0267838 49.569051, 6.0268017 49.5690057, 6.0268754 49.5688694, 6.0269286 49.5687785, 6.0269923 49.5686802, 6.0270398 49.5686172, 6.0270853 49.5685617, 6.0271386 49.5684961, 6.0271978 49.5684344, 6.0272609 49.56836, 6.0273888 49.5682365, 6.0274619 49.568171, 6.0275604 49.5680854, 6.0281753 49.5675832, 6.0289179 49.567788, 6.0294569 49.5678979, 6.030697 49.5681559, 6.0322706 49.5680148, 6.03236 49.568035, 6.0326059 49.568084, 6.0327612 49.5681167, 6.0329647 49.568157, 6.033262 49.5682161, 6.0334627 49.5682556, 6.0336895 49.5682978, 6.0341433 49.5683982, 6.0343717 49.5684436, 6.0345944 49.5684869, 6.0347867 49.568524, 6.0351258 49.5685907, 6.0354465 49.5686589, 6.0356808 49.5687222, 6.0359486 49.5688084, 6.0360891 49.568864, 6.0362047 49.5689129, 6.036435 49.5690016, 6.0366083 49.5690721, 6.0367851 49.569145, 6.0369282 49.5692021, 6.0374354 49.5694216, 6.0374566 49.5693885, 6.0383693 49.5673129, 6.0381194 49.5669283, 6.0389972 49.5666564, 6.0403799 49.5665102, 6.0400122 49.5658346, 6.0398371 49.5654838, 6.0396406 49.5652092, 6.0393823 49.5649869, 6.0384385 49.564271, 6.0373309 49.5628804, 6.0360583 49.5619595, 6.0347932 49.5612711, 6.0337863 49.5609496, 6.0329669 49.560674, 6.031884 49.5607105, 6.0316337 49.5607189, 6.0313931 49.5606402, 6.0306035 49.5603819, 6.030418 49.5603013, 6.0285138 49.5594742, 6.0265518 49.558622, 6.0255665 49.5580769, 6.0252391 49.5581233, 6.025123 49.5582918, 6.0223547 49.557316, 6.0206648 49.5565836, 6.0201476 49.5562323, 6.019208 49.5556825, 6.0179181 49.5552894, 6.0158781 49.5547258, 6.0152683 49.5545275, 6.0152436 49.5542981, 6.0145179 49.5542836, 6.0135789 49.5538253, 6.0125882 49.5536403, 6.0120477 49.5535394, 6.0116457 49.5534748, 6.0109556 49.5535523, 6.0105823 49.5537441, 6.0099963 49.5535762, 6.0098819 49.5540202, 6.0099645 49.5547989, 6.009981 49.554954, 6.0096436 49.5554414, 6.0095349 49.5555985, 6.0094933 49.5556587, 6.0093446 49.5556674, 6.0089551 49.5556901, 6.003266 49.5555596, 6.0023231 49.5544126, 6.0015449 49.5534258, 6.0011129 49.5542231, 6.0010053 49.5543581, 6.0006194 49.5547904, 6.0004528 49.5549643, 6.0001828 49.5551648, 5.9996869 49.5554585, 5.9995928 49.5555078, 5.9995458 49.5555383, 5.99927 49.555755, 5.9988456 49.5561215, 5.9986444 49.556299, 5.9984816 49.5564615, 5.998372 49.556573, 5.9982917 49.5566675, 5.9982234 49.5567563, 5.9981934 49.5568264, 5.9981897 49.5569079, 5.9982004 49.5570103, 5.9982182 49.557109, 5.9971859 49.5567123, 5.9965295 49.5565293, 5.9955731 49.5571429, 5.9954806 49.557342, 5.995084 49.5576027, 5.9945004 49.5579096, 5.9940069 49.557558, 5.9936567 49.5577421, 5.9932136 49.5580489, 5.9926527 49.5582026, 5.9917633 49.5582496, 5.9906859 49.5581436))")
    val outputLs= reader.read(str)
    expectedLS.equals(outputLs) should be (true)
  }



}
